<link rel="stylesheet" type="text/css" href="pages/css/shared/default.css" />
<link rel="stylesheet" type="text/css" href="pages/css/pages/project.css" />
<link rel="stylesheet" type="text/css" href="pages/css/shared/fonts.css">

<div class="container">


	<div id="menu-left-tabs" class="menu-left-tabs" ondragstart="return false;" ondrop="return false;">
		<div class="menu-left-tab" ng-class="{ 'selectedTab' : showDocuments }" ng-click="showDocuments = !showDocuments; showTypo = false; showInsert = false;">
			<div class="center"></div>
			<img src="pages/images/documents.svg" width="20">
		</div>
		<div class="menu-left-tab" ng-class="{ 'selectedTab' : showTypo }" ng-click="showTypo = !showTypo; hideStyleEditor(); showDocuments = false; showInsert = false;">
			<div class="center"></div>
			<img src="pages/images/typography.svg" width="20">
		</div>
		<div class="menu-left-tab" ng-class="{ 'selectedTab' : showInsert }" ng-click="showInsert = !showInsert; showDocuments = false; showTypo = false;">
			<div class="center"></div>
			<img src="pages/images/insert.svg" width="20">
		</div>
	</div>
	<div id="menu-left" class="menu-left" ng-class="{ 'open' : showDocuments || showTypo || showInsert }">
		<div class="top">
			<span ng-show="showDocuments" ng-bind="project.name"></span>
			<span ng-show="showTypo">Stylesets</span>
			<span ng-show="showInsert">Insert</span>
		</div>
		<div id="menu-left-content" class="content">
			<div class="menu-item-left documents" ng-show="showDocuments">
				<div  class="menu-content">
					<div class="projectDocument new" ng-click="addProjectDocument()">
						<p>+</p>
					</div>
					<div html-sortable="sortable_option" ng-model="projectDocuments">
						<div class="projectDocument" ng-repeat="projectDocument in projectDocuments track by projectDocument._id" ng-selected="documentSelected === projectDocument" ng-hide="projectDocument.archived && !user.showArchivedDocuments">
							<a class="projectDocument-options-show" ng-click="showProjectDocumentOptions = true">
								<div class="arrow"></div>
							</a>

							<p ng-hide="editingProjectDocumentTitle">
								<a ng-click="projectDocumentChosen(projectDocument)">{{projectDocument.name}}</a>
							</p>

							<form ng-show="editingProjectDocumentTitle">
								<p>
									<textarea id="renameProjectDocument" rows="4" ng-model="projectDocument.name" focus-on="!!editingProjectDocumentTitle" on-enter="editingProjectDocumentTitle = false; renameProjectDocument(projectDocument);"></textarea>
								</p>
							</form>

							<div class="projectDocument-options" ng-show="showProjectDocumentOptions">
								<div class="projectDocument-options-hide" ng-click="showProjectDocumentOptions = false;" title="Close Options">x</div>
								<div class="projectDocument-options-menupoint first" ng-click="editingProjectDocumentTitle = true; showProjectDocumentOptions = false;">rename</div>
								<div class="projectDocument-options-menupoint" ng-click="archiveProjectDocument(projectDocument); showProjectDocumentOptions = false;">archive</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="menu-item-left" ng-show="showTypo">
				<div class="menu-content">
					<div class="typo new" ng-click="addNewStyleset()">
						<p>+</p>
					</div>
					<ul>
						<li ng-repeat="styleset in stylesets" class="typo" ng-class="{ 'open' : visible == true }" ng-hide="styleset.archived">
							<a class="styleset-options-show" ng-click="showStylesetOptions = true">
								<div class="arrow"></div>
							</a>

							<p ng-click="visible=!visible" ng-hide="editingStylesetName">{{styleset.name}}</p>

							<form ng-show="editingStylesetName">
								<p>
									<textarea id="renameStyleset" rows="1" ng-model="styleset.name" focus-on="!!editingStylesetName" on-enter="editingStylesetName = false; renameStyleset(styleset);"></textarea>
								</p>
							</form>

							<div class="styleset-options" ng-show="showStylesetOptions">
								<div class="styleset-options-hide" ng-click="showStylesetOptions = false;" title="Close Options">x</div>
								<div class="styleset-options-menupoint first" ng-click="editingStylesetName = true; showStylesetOptions = false;">rename</div>
								<div class="styleset-options-menupoint" ng-click="archiveStyleset(styleset); showStylesetOptions = false;">archive</div>
								<div class="styleset-options-menupoint" ng-click="applyStylesetToDocument(styleset); showStylesetOptions = false;">apply to document</div>
								<div class="styleset-options-menupoint" ng-click="applyStylesetToProject(styleset); showStylesetOptions = false;">apply to project</div>
							</div>

							<ul ng-hide="visible" class="typo-children">
								<li ng-repeat="style in styleset.styles" ng-click="x=!x" ng-hide="style.archived">
									<a class="style-options-show" ng-click="showStyleOptions = true">
										<div class="arrow"></div>
									</a>

									<span ng-hide="editingStyleName" ng-click="applyStyle(styleset, style)">{{style.name}}</span>

									<form ng-show="editingStyleName">
										<textarea id="renameStyle" rows="1" ng-model="style.name" focus-on="!!editingStyleName" on-enter="editingStyleName = false; renameStyle(style);"></textarea>
									</form>

									<div class="style-options" ng-show="showStyleOptions">
										<div class="style-options-hide" ng-click="showStyleOptions = false;" title="Close Options">x</div>
										<div class="style-options-menupoint first" ng-click="editingStyleName = true; showStyleOptions = false;">rename</div>
										<div class="style-options-menupoint" ng-click="archiveStyle(style); showStyleOptions = false;">archive</div>
									</div>
								</li>
								<li class="new style" ng-click="addNewStyle( styleset )"><p>+</p></li>
							</ul>
						</li>
					</ul>
				</div>
			</div>
			<div class="menu-item-left" ng-show="showInsert">
				<div class="menu-content">
					Insert
				</div>
			</div>
		</div>
		<div class="documents-options-bottom-buttons" ng-show="showDocuments">
			<a ng-class="{ 'open' : showNewOptions }" ng-click="showNewOptions = !showNewOptions; showImportOptions = false; showBottomOptions = false;">new</a>
			<a ng-class="{ 'open' : showImportOptions }" ng-click="showImportOptions = !showImportOptions; showNewOptions = false; showBottomOptions = false;">import</a>
			<a class="last" ng-class="{ 'open' : showBottomOptions }" ng-click="showBottomOptions = !showBottomOptions; showNewOptions = false; showImportOptions = false;">options</a>
		</div>

		<div class="stylesets-options-bottom-buttons" ng-show="showTypo">
			<a ng-click="showStyleEditor()" ng-class="{ 'open' : styleEditorVisible }">style editor</a>
		</div>

		<div id="menu-left-content-options" class="menu-left-options" ng-show="showDocuments" ng-class="{ 'open' : showNewOptions || showImportOptions || showBottomOptions }">
			<div class="options-bottom-box">
				<div ng-show="showNewOptions">
					<a ng-click="addProjectDocument()">New Document</a><br>
					<a ng-click="">New Folder</a>
				</div>
				<div ng-show="showImportOptions">
					<div class="upload-box" ng-file-drop="onFileSelect($files)" ng-file-drag-over-class="dragover"
						 ng-show="dropSupported" ng-file-drop-available="dropSupported=true">drop files here</div>
					<p>Scripler imports Word files and other common word processor formats (link).</p>
					<input type="file" ng-file-select="onFileSelect($files)">
				</div>
				<div ng-show="showBottomOptions">
					<input type="checkbox" ng-model="user.showArchivedDocuments" ng-change="updateUser();">Show Archived Documents<br>
					<a ng-click="">Compile</a>
				</div>
			</div>
		</div>
	</div>

	<div class="editor">
		<div id="toolbar-area" class="toolbar-area"></div>
		<textarea ck-editor="" ng-model="documentSelected.text" class="form-control" id="bodyeditor"></textarea>
	</div>

	<div id="menu-right" class="menu-right">
		<div id="menu-right-showhide" class="content-icon">
			<span class="icon icon-reorder"></span>
		</div>
		<div class="content">
			<ul>
				<li class="menu-item open">
					<div class="menu-text"><span class="icon icon-signout"></span>Output</div>
					<div class="menu-content">
					Content
					</div>
				</li>
			</ul>
		</div>
	</div>

</div>
